<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tweakpane Addons Example</title>

</head>

<body>
    <div style="display: flex; flex-direction: row; width: 100%;        height: 100vh;">
        <div id="menu1" style="flex: 1; padding: 10px;">
        </div>
        <div id="menu2" style="flex: 1; padding: 10px;">
        </div>




        <script type="module">
            //=====================================================================================================================
            //import { Pane } from './tweakpane-4.0.4.js';            
            import { propertyTable } from './propertytable/propertytable.js';

            let MENU1 = new propertyTable({
                container: document.getElementById('menu1'),
                title: 'Propertytable Example',
                expanded: true,
            });

            let Q = {
                float: 1.23,
                float2: 3,
                vec2: { x: 0.1, y: 0.2 },
                vec3: { x: 0.1, y: 0.2, z: 0.3 },
                vec4: { x: 0.1, y: 0.2, z: 0.3, w: 0.4 },
                color: '#ff0000',
                color2: '#00ff00',
                check: false,
                text: "Hello World\n new line ",
                glslShader: `#version 300 es
precision mediump float;

uniform float u_time;
uniform vec2 u_resolution;
uniform vec3 u_color;

out vec4 fragColor;

void main() {
    vec2 uv = gl_FragCoord.xy / u_resolution.xy;
    vec3 color = u_color * sin(u_time + uv.x * 10.0);
    fragColor = vec4(color, 1.0);
}`,
            }

            let options = {
                float: { removable:true,min: 0, max: 10, step: 0.01 },

                vec2: { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 } },
                vec3: { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 }, z: { min: -10, max: 10, step: 0.01 } },
                vec4: { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 }, z: { min: -10, max: 10, step: 0.01 }, w: { min: 0, max: 1, step: 0.01 } },
                color: { picker: { mode: 'hex' } },
                text: { multiline: true, rows: 5 },
                glslShader: { 
                    multiline: true, 
                    rows: 12, 
                    wordwrap: false, 
                    highlighting: 'glsl' 
                },
            }


            let fold = MENU1.addFolder({
                title: "folder",
                expandable: true,
                object: Q,
                options: options
            })

            //fold.bindControls(Q, options);
            MENU1.addButton({ title: 'show data', }).on('click', () => { console.log(Q); });
            fold.refresh();


            //=====================================================================================================================
            // regular approach

            let MENU2 = new propertyTable({
                container: document.getElementById('menu2'),
                title: 'Propertytable Example',
                expanded: true,
            });




            MENU2.addBinding(Q, 'float', { min: 0, max: 10, step: 0.01 });
            MENU2.addBinding(Q, 'vec2', { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 } });
            MENU2.addBinding(Q, 'vec3', { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 }, z: { min: -10, max: 10, step: 0.01 } });
            MENU2.addBinding(Q, 'vec4', { x: { min: -10, max: 10, step: 0.01 }, y: { min: -10, max: 10, step: 0.01 }, z: { min: -10, max: 10, step: 0.01 }, w: { min: 0, max: 1, step: 0.01 } });
            MENU2.addBinding(Q, 'color');
            MENU2.addBinding(Q, 'color2', { picker: { mode: 'rgb' } });
            MENU2.addBinding(Q, 'check');
            MENU2.addBinding(Q, 'text', { readonly:true, multiline: true, rows: 5 });
            const btn = MENU2.addButton({
                title: 'Increment',
                label: 'counter',   // optional
            });



























        </script>





</html>